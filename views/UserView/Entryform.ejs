<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Transition Form</title>
  <link rel="stylesheet" href="/css/entryform.css">
  <link rel="stylesheet" href="/css/loader.css">
  <link rel="stylesheet" href="/css/toast.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
</head>
<body>
<!-- Toast -->
  <% if (typeof message !== "undefined" && message) { %>
    <div id="toast" class="toast <%= success ? 'toast-success' : 'toast-error' %>">
      <%= message %>
    </div>
  <% } %>
<form class="user-form" action="/users/save" method="POST" onsubmit="showLoader()">   
  <div class="header-box">
    <h3>Transition Form :-</h3>
  </div>  
  <div class="form-row">
    <div class="form-group">
      <label for="name">Name</label>
      <input type="text" id="name" name="name" />
    </div>
    <div class="form-group">
      <label for="dob">DOB</label>
      <input type="date" id="dob" name="dob"/>
    </div>
    <div class="form-group">
      <label for="age">Age</label>
      <input type="text"  id="age" name="age"/>
    </div>
  </div>
  <div class="form-row">
    <div class="form-group">
      <label for="phone">Phone</label>
      <input type="text" id="phone" name="phone" />
    </div>
    <div class="form-group">
      <label for="gender">Gender</label>
      <select id="gender" name="gender">
        <option value="">Select</option>
        <option value="Male">Male</option>
        <option value="Female">Female</option>
        <option value="Other">Other</option>
      </select>
    </div>
    <div class="form-group">
      <label for="address">Address</label>
      <input type="text" id="address" name="address" />
    </div>
  </div>
  <div class="form-row">
    <div class="form-group">
      <label for="email">Email</label>
      <input type="email" id="email" name="email" />
    </div>
  </div>
<button  class="submit-btn" id="saveBtn" type="submit">Save</button> 
</form>
<!-- JavaScript -->  

<!-- <script>
document.addEventListener("DOMContentLoaded", function () {
  console.log("Script loaded ✅");

  const toast = document.getElementById("toast");
  if (toast) {
    toast.classList.add("show");
    setTimeout(() => { toast.classList.remove("show"); }, 3000);
  }

  const dobInput = document.getElementById("dob");
  const ageInput = document.getElementById("age");

  if (dobInput && ageInput) {
    dobInput.addEventListener("change", function () {
      console.log("DOB field changed:", this.value);
      if (!this.value) {
        ageInput.value = "";
        return;
      }

      // YYYY-MM-DD → [YYYY, MM, DD]
      const parts = this.value.split("-");
      const dob = new Date(parts[0], parts[1] - 1, parts[2]);

      if (!isNaN(dob)) {
        const today = new Date();
        let age = today.getFullYear() - dob.getFullYear();
        const m = today.getMonth() - dob.getMonth();

        if (m < 0 || (m === 0 && today.getDate() < dob.getDate())) {
          age--;
        }

        ageInput.value = age;
      } else {
        ageInput.value = "";
      }
    });
  }
});
</script>  -->
<script src="/js/entryform.js"></script>
</body>
</html>
